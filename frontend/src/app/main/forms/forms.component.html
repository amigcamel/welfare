<div id="forms" class="page-layout simple fullwidth" fxLayout="column">

    <!-- HEADER -->
    <div class="header accent p-24 h-160" fxLayout="row" fxLayoutAlign="start center">
        <div fxLayout="column" fxLayoutAlign="center start">
            <div fxLayout="row" fxLayoutAlign="start center">
                <mat-icon class="secondary-text s-18">home</mat-icon>
                <mat-icon class="secondary-text s-16">chevron_right</mat-icon>
                <span class="secondary-text">User Interface</span>
            </div>
            <div class="h1 mt-16">Forms</div>
        </div>
    </div>
    <!-- / HEADER -->

    <!-- CONTENT -->
    <div class="content p-24">

        <div class="h1">
            Reactive Forms
        </div>

        <div class="vertical-stepper-wrapper">
            <mat-vertical-stepper class="mat-elevation-z4" [linear]="true">
                <mat-step *ngFor="let step of steps; let i = index" [stepControl]="step['formGroup']">
                    <form fxLayout="column" [formGroup]="step['formGroup']">
                        <ng-template matStepLabel>{{step['form']['question']['groupLabel']}}</ng-template>
                        <div fxFlex="1 0 auto" fxLayout="column" *ngFor="let item of step['form']['question']['item']">

                            <ng-container ngSwitch="{{item['type']}}">
                                <ng-container *ngSwitchCase="'dropdown'">
                                    <ng-container *ngTemplateOutlet="dropdown"></ng-container>
                                </ng-container>
                                <ng-container *ngSwitchCase="'text'">
                                    <ng-container *ngTemplateOutlet="text"></ng-container>
                                </ng-container>
                            </ng-container>
                            <ng-template #dropdown>
                                <mat-form-field appearance="outline" fxFlex="100">
                                    <mat-label>{{item['label']}}</mat-label>
                                    <mat-select [formControlName]="item['key']" required>
                                        <mat-option *ngFor="let option of item['options']" [value]="option['value']">
                                           {{option['key']}}
                                        </mat-option>
                                    </mat-select>
                                    <mat-icon matSuffix class="secondary-text">outlined_flag</mat-icon>
                                    <mat-error>Country is required!</mat-error>
                                </mat-form-field>

                            </ng-template>
                            <ng-template #text>
                                <mat-form-field appearance="outline" fxFlex="100">
                                    <mat-label>{{item['label']}}</mat-label>
                                    <input matInput [formControlName]="item['key']" required>
                                    <mat-error>Last Name is required!</mat-error>
                                </mat-form-field>
                            </ng-template>
                        </div>
                        <div fxLayout="row" fxLayoutAlign="center center">
                            <button *ngIf="i > 0" class="mr-8" mat-raised-button matStepperPrevious type="button" color="accent">
                                Previous
                            </button>
                            <button *ngIf="!step['form']['question']['isEnd']" mat-raised-button matStepperNext type="button" color="accent">
                                Next
                            </button>
                            <button *ngIf="step['form']['question']['isEnd']" mat-raised-button type="button" color="accent" (click)="finishVerticalStepper()">
                                Finish
                            </button>
                            <button (click)="bye()">bye</button>
                        </div>
                    </form>

                </mat-step>
            </mat-vertical-stepper>
        </div>


    </div>
    <!-- / CONTENT -->

</div>
