<div id="forms" class="page-layout simple fullwidth" fxLayout="column">

    <!-- HEADER -->
    <div class="header accent p-24 h-160" fxLayout="row" fxLayoutAlign="start center">
        <div fxLayout="column" fxLayoutAlign="center start">
            <div fxLayout="row" fxLayoutAlign="start center">
                <mat-icon class="secondary-text s-18">home</mat-icon>
                <mat-icon class="secondary-text s-16">chevron_right</mat-icon>
                <span class="secondary-text">User Interface</span>
            </div>
            <div class="h1 mt-16">Forms</div>
        </div>
    </div>
    <!-- / HEADER -->

    <!-- CONTENT -->
    <div class="content p-24">

        <div class="h1">
            Reactive Forms
        </div>

        <div class="vertical-stepper-wrapper" fxLayout="column">
            <mat-vertical-stepper class="mat-elevation-z4" [linear]="true">
                <mat-step *ngFor="let step of steps; let i = index">
                    <ng-template matStepLabel>
                        <div fxLayout="row" fxLayoutAlign="start center">
                            <div>
                                {{step.stepLabel}}
                            </div>
                            <mat-icon (click)="seeMenu(step.imageSource)" style="width: 24px !important; height: 24px !important;">search</mat-icon>
                        </div>

                    </ng-template>
                    <mat-expansion-panel [disabled]="true" *ngFor="let item of step['items']" #mep="matExpansionPanel" style="margin-bottom: 20px">
                            <mat-expansion-panel-header (focusin)="mep.expanded = true" (blur)="mep.expanded = false">
                                <mat-panel-title>{{item.label}}</mat-panel-title>
                                <mat-panel-description>
                                    <mat-icon class="button" (click)="subOne(i, item.key)" style="width: 32px; height: 32px">remove</mat-icon>
                                    <input matInput [(ngModel)]="item.value" type="number" disabled style="text-align: center; color: black" >
                                    <mat-icon class="button" (click)="addOne(i, item.key)" style="width: 32px; height: 32px">add</mat-icon>
                                </mat-panel-description>
                            </mat-expansion-panel-header>
                            <div fxLayout="row" fxLayoutAlign="start center">
                                <mat-radio-group [(ngModel)]="item['iceDefault']">
                                    <mat-radio-button  *ngFor="let ice of item['ice']">{{ice['label']}}</mat-radio-button>
                                    {{item['iceDefault']}}
                                </mat-radio-group>
                            </div>
                            <div fxLayout="row" fxLayoutAlign="start center">
                                <mat-radio-group [(ngModel)]="item['sugarDefault']">
                                    <mat-radio-button *ngFor="let sugar of item['sugar']">{{sugar['label']}}</mat-radio-button>
                                </mat-radio-group>
                            </div>
                            <div fxLayout="row" fxLayoutAlign="start center">
                                <mat-radio-group [(ngModel)]="item['sizeDefault']">
                                    <mat-radio-button *ngFor="let size of item['size']">{{size['label']}}</mat-radio-button>
                                </mat-radio-group>
                            </div>
                            <div fxLayout="row" fxLayoutAlign="start center">
                                <div *ngFor="let o of item['options']">
                                    <mat-checkbox [checked]="o.choose"  (change)="checkedOption(i, item.key, o.key)">{{o.label}}</mat-checkbox>
                                </div>
                            </div>
                    </mat-expansion-panel>
                    <div fxLayout="row" fxFlex="100" fxLayoutAlign="space-around center">
                        <button mat-raised-button matStepperPrevious>previous</button>
                        <button *ngIf="!step.isEnd" mat-raised-button matStepperNext>next</button>
                        <button *ngIf="step.isEnd" mat-raised-button type="button" color="accent" (click)="finishHorizontalStepper()">
                            Finish
                        </button>
                    </div>

                    <div fxFlex="100" fxLayout="row" fxLayoutAlign="space-between center">
                        <div></div>
                        <div fxLayout="row">
                            <mat-icon>attach_money</mat-icon>
                            <div>Total: {{sum}}</div>
                        </div>
                    </div>

                </mat-step>
            </mat-vertical-stepper>

        </div>



    </div>
    <!-- / CONTENT -->

</div>
